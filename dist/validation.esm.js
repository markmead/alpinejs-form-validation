function g(r,i,d,o,c=!1){let e=t=>i.find(a=>a===t)??!1,m=o(d),n={};if(e("required")&&(n.required=!0),e("min")){let t=i.indexOf(e("min"));n.min=Number(i[t+1])}if(e("max")){let t=i.indexOf(e("max"));n.max=Number(i[t+1])}if(e("min:length")){let t=i.indexOf(e("min:length"));n.minLength=Number(i[t+1])}if(e("max:length")){let t=i.indexOf(e("max:length"));n.maxLength=Number(i[t+1])}e("checked")&&(n.checked=!0),m(t=>{if(!c&&!t&&!r.getAttribute("data-validation-dirty"))return;let a={};e("required")&&(a.required=!!t),e("min")&&(a.min=t>=n.min),e("max")&&(a.max=t<=n.max),e("min:length")&&(a.minLength=t.length>=n.minLength),e("max:length")&&(a.maxLength=t.length<=n.maxLength),e("checked")&&(a.checked=!!t);let s=Object.values(a).every(f=>f),h=Object.keys(a).find(f=>a[f]===!1);r.setAttribute("data-validation-dirty",!0),r.setAttribute("data-validation-valid",s),r.setAttribute("data-validation-reason",h||""),r.setAttribute("data-validation-status",JSON.stringify(a)),r.setAttribute("data-validation-options",JSON.stringify(n))})}function x(r){r.directive("validation",(i,{modifiers:d,expression:o},{evaluateLater:c,effect:e})=>{e(()=>g(i,d,o,c)),document.addEventListener("validate",m=>{let{target:t}=m;t.contains(i)&&g(i,d,o,c,!0)})})}var y=x;export{y as default};
