function m(d){d.directive("validation",(a,{modifiers:r,expression:l},{evaluateLater:x,effect:f})=>{let g=x(l),e=t=>r.filter(n=>n===t)[0]??!1,i={};if(e("required")&&(i.required=!0),e("min")){let t=r.indexOf(e("min"));i.min=Number(r[t+1])}if(e("max")){let t=r.indexOf(e("max"));i.max=Number(r[t+1])}if(e("min:length")){let t=r.indexOf(e("min:length"));i.minLength=Number(r[t+1])}if(e("max:length")){let t=r.indexOf(e("max:length"));i.maxLength=Number(r[t+1])}e("checked")&&(i.checked=!0),f(()=>{g(t=>{if(!t&&!a.getAttribute("x-validation-dirty"))return;let n={};e("required")&&(n.required=!!t),e("min")&&(n.min=t>=i.min),e("max")&&(n.max=t<=i.max),e("min:length")&&(n.minLength=t.length>=i.minLength),e("max:length")&&(n.maxLength=t.length<=i.maxLength),e("checked")&&(n.checked=!!t);let u=Object.values(n).every(h=>h);a.setAttribute("x-validation-dirty",!0),a.setAttribute("x-validation-valid",u),a.setAttribute("x-validation-options",JSON.stringify(i)),a.setAttribute("x-validation-status",JSON.stringify(n)),a.dispatchEvent(new CustomEvent("error",{bubbles:!0,cancelable:!0,detail:JSON.stringify(n)}))})})}),d.magic("json",()=>a=>JSON.parse(a))}var s=m;export{s as default};
