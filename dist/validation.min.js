(()=>{function l(d){d.directive("validation",(r,{modifiers:a,expression:m},{evaluateLater:x,effect:f})=>{let g=x(m),t=e=>a.filter(n=>n===e)[0]??!1,i={};if(t("required")&&(i.required=!0),t("min")){let e=a.indexOf(t("min"));i.min=Number(a[e+1])}if(t("max")){let e=a.indexOf(t("max"));i.max=Number(a[e+1])}if(t("min:length")){let e=a.indexOf(t("min:length"));i.minLength=Number(a[e+1])}if(t("max:length")){let e=a.indexOf(t("max:length"));i.maxLength=Number(a[e+1])}t("checked")&&(i.checked=!0),f(()=>{g(e=>{if(!e&&!r.getAttribute("x-validation-dirty"))return;let n={};t("required")&&(n.required=!!e),t("min")&&(n.min=e>=i.min),t("max")&&(n.max=e<=i.max),t("min:length")&&(n.minLength=e.length>=i.minLength),t("max:length")&&(n.maxLength=e.length<=i.maxLength),t("checked")&&(n.checked=!!e);let u=Object.values(n).every(h=>h);r.setAttribute("x-validation-dirty",!0),r.setAttribute("x-validation-valid",u),r.setAttribute("x-validation-options",JSON.stringify(i)),r.setAttribute("x-validation-status",JSON.stringify(n)),r.dispatchEvent(new CustomEvent("error",{bubbles:!0,cancelable:!0,detail:JSON.stringify(n)}))})})}),d.magic("json",()=>r=>JSON.parse(r))}document.addEventListener("alpine:init",()=>{window.Alpine.plugin(l)});})();
