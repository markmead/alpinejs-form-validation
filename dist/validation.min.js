(()=>{function l(d){d.directive("validation",(r,{modifiers:a,expression:m},{evaluateLater:x,effect:f})=>{let g=x(m),e=t=>a.filter(n=>n===t)[0]??!1,i={};if(e("required")&&(i.required=!0),e("min")){let t=a.indexOf(e("min"));i.min=Number(a[t+1])}if(e("max")){let t=a.indexOf(e("max"));i.max=Number(a[t+1])}if(e("min:length")){let t=a.indexOf(e("min:length"));i.minLength=Number(a[t+1])}if(e("max:length")){let t=a.indexOf(e("max:length"));i.maxLength=Number(a[t+1])}e("checked")&&(i.checked=!0),f(()=>{g(t=>{if(!t&&!r.getAttribute("x-validation-dirty"))return;let n={};e("required")&&(n.required=!!t),e("min")&&(n.min=t>=i.min),e("max")&&(n.max=t<=i.max),e("min:length")&&(n.minLength=t.length>=i.minLength),e("max:length")&&(n.maxLength=t.length<=i.maxLength),e("checked")&&(n.checked=!!t);let u=Object.values(n).every(h=>h);r.setAttribute("x-validation-dirty",!0),r.setAttribute("x-validation-valid",u),r.setAttribute("x-validation-options",JSON.stringify(i)),r.setAttribute("x-validation-status",JSON.stringify(n)),r.dispatchEvent(new CustomEvent("error",{bubbles:!0,cancelable:!0,detail:JSON.stringify(n)}))})})}),d.magic("json",()=>r=>JSON.parse(r))}document.addEventListener("alpine:init",()=>window.Alpine.plugin(l));})();
