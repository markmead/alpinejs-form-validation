(()=>{function m(d){d.directive("validation",(r,{modifiers:i,expression:x},{evaluateLater:l,effect:f})=>{let o=l(x),e=t=>i.filter(a=>a===t)[0]??!1,n={};if(e("required")&&(n.required=!0),e("min")){let t=i.indexOf(e("min"));n.min=Number(i[t+1])}if(e("max")){let t=i.indexOf(e("max"));n.max=Number(i[t+1])}if(e("min:length")){let t=i.indexOf(e("min:length"));n.minLength=Number(i[t+1])}if(e("max:length")){let t=i.indexOf(e("max:length"));n.maxLength=Number(i[t+1])}e("checked")&&(n.checked=!0),f(()=>{o(t=>{if(!t&&!r.getAttribute("x-validation-dirty"))return;let a={};e("required")&&(a.required=!!t),e("min")&&(a.min=t>=n.min),e("max")&&(a.max=t<=n.max),e("min:length")&&(a.minLength=t.length>=n.minLength),e("max:length")&&(a.maxLength=t.length<=n.maxLength),e("checked")&&(a.checked=!!t);let c=Object.values(a).every(g=>g);r.setAttribute("x-validation-dirty",!0),r.setAttribute("x-validation-valid",c),r.setAttribute("x-validation-options",JSON.stringify(n)),r.setAttribute("x-validation-status",JSON.stringify(a)),r.dispatchEvent(new CustomEvent("error",{bubbles:!0,cancelable:!0,detail:JSON.stringify(a)}))})})}),d.magic("valid",()=>(r,i)=>!JSON.parse(r)[i])}document.addEventListener("alpine:init",()=>window.Alpine.plugin(m));})();
