(()=>{function v(c,a,l,u,m=!1){let d=t=>a.includes(t),s=t=>{let r=a.indexOf(t);if(r===-1||r+1>=a.length)return null;let i=Number(a[r+1]);return isNaN(i)?null:i},e=(t,r)=>{if(!d(t))return null;let i=s(t);return i!==null?{[r]:i}:null},h=u(l),o={...d("required")&&{required:!0},...e("min","min"),...e("max","max"),...e("min:length","minLength"),...e("max:length","maxLength"),...d("checked")&&{checked:!0}};h(t=>{if(!m&&!t&&!c.getAttribute("data-validation-dirty"))return;let r={required:()=>!!t,min:()=>{let n=Number(t);return!isNaN(n)&&n>=o.min},max:()=>{let n=Number(t);return!isNaN(n)&&n<=o.max},minLength:()=>t.length>=o.minLength,maxLength:()=>t.length<=o.maxLength,checked:()=>!!t},i={};for(let[n]of Object.entries(o))r[n]&&(i[n]=r[n]());let f=Object.values(i).every(Boolean),b=Object.keys(i).find(n=>!i[n]),x={"data-validation-dirty":!0,"data-validation-valid":f,"data-validation-reason":b||"","data-validation-status":JSON.stringify(i),"data-validation-options":JSON.stringify(o)};Object.entries(x).forEach(([n,N])=>{c.setAttribute(n,N)})})}function g(c){c.directive("validation",(a,{modifiers:l,expression:u},{evaluateLater:m,effect:d})=>{d(()=>v(a,l,u,m)),document.addEventListener("validate",s=>{let{target:e}=s;e.contains(a)&&v(a,l,u,m,!0)}),document.addEventListener("reset",s=>{let{target:e}=s;if(!e.contains(a))return;["data-validation-dirty","data-validation-valid","data-validation-reason","data-validation-status","data-validation-options"].forEach(o=>a.removeAttribute(o))})})}document.addEventListener("alpine:init",()=>window.Alpine.plugin(g));})();
